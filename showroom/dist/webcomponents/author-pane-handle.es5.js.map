{"version":3,"file":"author-pane-handle.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorPaneHandleElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      initialized: {\n        private: true,\n        default: false\n      },\n\n      maxSize: {\n        private: true,\n        default: null\n      },\n\n      startPosition: {\n        private: true,\n        default: null\n      },\n\n      offset: {\n        private: true,\n        default: null\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      cleanupMouseEventHandlers: () => {\n        document.removeEventListener('mousemove', this.PRIVATE.globalMousemoveHandler)\n        document.removeEventListener('mouseup', this.PRIVATE.globalMouseupHandler)\n      },\n\n      generatePercentage: value => `${(value / this.parentNode.totalSize) * 100}%`,\n\n      globalMousemoveHandler: evt => {\n        let mousePosition = this.PRIVATE.axis === 'x' ? evt.clientX : evt.clientY\n\n        if (mousePosition === this.PRIVATE.startPosition) {\n          return\n        }\n\n        let { totalSize } = this.parentNode\n        let { previousPane, nextPane, maxSize, offset, generatePercentage, handleResize } = this.PRIVATE\n        let previousSize = (mousePosition - offset.previous) - previousPane.dimensions.left\n\n        if (!previousSize || previousSize < 0) {\n          previousSize = 0\n        }\n\n        if (previousSize >= maxSize) {\n          previousSize = maxSize\n        }\n\n        nextPane.element.size = generatePercentage(maxSize - previousSize)\n        previousPane.element.size = generatePercentage(previousSize)\n      },\n\n      globalMouseupHandler: evt => {\n        this.PRIVATE.startPosition = null\n        this.PRIVATE.offset = null\n        this.PRIVATE.cleanupMouseEventHandlers()\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      disconnected: () => this.PRIVATE.cleanupMouseEventHandlers(),\n\n      initialize: () => {\n        if (this.PRIVATE.initialized) {\n          return\n        }\n\n        this.UTIL.defineProperties({\n          axis: {\n            private: true,\n            readonly: true,\n            get: () => this.parentNode.hasAttribute('horizontal') ? 'x' : 'y'\n          },\n\n          dimensions: {\n            private: true,\n            readonly: true,\n            get: () => this.getBoundingClientRect()\n          },\n\n          previousPane: {\n            private: true,\n            readonly: true,\n            get: () => {\n              let { previousElementSibling } = this\n\n              return {\n                element: previousElementSibling,\n                dimensions: previousElementSibling.getBoundingClientRect()\n              }\n            }\n          },\n\n          nextPane: {\n            private: true,\n            readonly: true,\n            get: () => {\n              let { nextElementSibling } = this\n\n              return {\n                element: nextElementSibling,\n                dimensions: nextElementSibling.getBoundingClientRect()\n              }\n            }\n          }\n        })\n\n        this.PRIVATE.initialized = true\n      },\n\n      mousedown: evt => {\n        let { axis, dimensions, previousPane, nextPane } = this.PRIVATE\n        let startPosition, dimension, offsetReference\n\n        switch (axis) {\n          case 'x':\n            startPosition = evt.clientX\n            dimension = 'width'\n            offsetReference = 'right'\n            break\n\n          case 'y':\n            startPosition = evt.clientY\n            dimension = 'height'\n            offsetReference = 'bottom'\n            break\n        }\n\n        this.PRIVATE.startPosition = startPosition\n        this.PRIVATE.maxSize = previousPane.dimensions[dimension] + nextPane.dimensions[dimension]\n\n        this.PRIVATE.offset = {\n          previous: this.PRIVATE.startPosition - dimensions[axis],\n          next: dimensions[offsetReference] - startPosition\n        }\n\n        document.addEventListener('mousemove', this.PRIVATE.globalMousemoveHandler)\n        document.addEventListener('mouseup', this.PRIVATE.globalMouseupHandler)\n      }\n    })\n  }\n}\n\ncustomElements.define('author-pane-handle', AuthorPaneHandleElement)\n"],"names":["AuthorPaneHandleElement","UTIL","defineProperties","initialized","private","default","maxSize","startPosition","offset","definePrivateMethods","cleanupMouseEventHandlers","document","removeEventListener","PRIVATE","globalMousemoveHandler","globalMouseupHandler","generatePercentage","value","parentNode","totalSize","evt","mousePosition","axis","clientX","clientY","previousPane","nextPane","handleResize","previousSize","previous","dimensions","left","element","size","registerListeners","disconnected","initialize","readonly","get","hasAttribute","getBoundingClientRect","previousElementSibling","nextElementSibling","mousedown","dimension","offsetReference","next","addEventListener","AuthorBaseElement","HTMLElement","customElements","define"],"mappings":"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"}