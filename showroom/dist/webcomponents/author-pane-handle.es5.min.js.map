{"version":3,"file":"author-pane-handle.es5.min.js","sources":["../src/element.js"],"sourcesContent":["class AuthorPaneHandleElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      initialized: {\n        private: true,\n        default: false\n      },\n\n      maxSize: {\n        private: true,\n        default: null\n      },\n\n      startPosition: {\n        private: true,\n        default: null\n      },\n\n      offset: {\n        private: true,\n        default: null\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      cleanupMouseEventHandlers: () => {\n        document.removeEventListener('mousemove', this.PRIVATE.globalMousemoveHandler)\n        document.removeEventListener('mouseup', this.PRIVATE.globalMouseupHandler)\n      },\n\n      generatePercentage: value => `${(value / this.parentNode.totalSize) * 100}%`,\n\n      globalMousemoveHandler: evt => {\n        let mousePosition = this.PRIVATE.axis === 'x' ? evt.clientX : evt.clientY\n\n        if (mousePosition === this.PRIVATE.startPosition) {\n          return\n        }\n\n        let { totalSize } = this.parentNode\n        let { previousPane, nextPane, maxSize, offset, generatePercentage, handleResize } = this.PRIVATE\n        let previousSize = (mousePosition - offset.previous) - previousPane.dimensions.left\n\n        if (!previousSize || previousSize < 0) {\n          previousSize = 0\n        }\n\n        if (previousSize >= maxSize) {\n          previousSize = maxSize\n        }\n\n        nextPane.element.size = generatePercentage(maxSize - previousSize)\n        previousPane.element.size = generatePercentage(previousSize)\n      },\n\n      globalMouseupHandler: evt => {\n        this.PRIVATE.startPosition = null\n        this.PRIVATE.offset = null\n        this.PRIVATE.cleanupMouseEventHandlers()\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      disconnected: () => this.PRIVATE.cleanupMouseEventHandlers(),\n\n      initialize: () => {\n        if (this.PRIVATE.initialized) {\n          return\n        }\n\n        this.UTIL.defineProperties({\n          axis: {\n            private: true,\n            readonly: true,\n            get: () => this.parentNode.hasAttribute('horizontal') ? 'x' : 'y'\n          },\n\n          dimensions: {\n            private: true,\n            readonly: true,\n            get: () => this.getBoundingClientRect()\n          },\n\n          previousPane: {\n            private: true,\n            readonly: true,\n            get: () => {\n              let { previousElementSibling } = this\n\n              return {\n                element: previousElementSibling,\n                dimensions: previousElementSibling.getBoundingClientRect()\n              }\n            }\n          },\n\n          nextPane: {\n            private: true,\n            readonly: true,\n            get: () => {\n              let { nextElementSibling } = this\n\n              return {\n                element: nextElementSibling,\n                dimensions: nextElementSibling.getBoundingClientRect()\n              }\n            }\n          }\n        })\n\n        this.PRIVATE.initialized = true\n      },\n\n      mousedown: evt => {\n        let { axis, dimensions, previousPane, nextPane } = this.PRIVATE\n        let startPosition, dimension, offsetReference\n\n        switch (axis) {\n          case 'x':\n            startPosition = evt.clientX\n            dimension = 'width'\n            offsetReference = 'right'\n            break\n\n          case 'y':\n            startPosition = evt.clientY\n            dimension = 'height'\n            offsetReference = 'bottom'\n            break\n        }\n\n        this.PRIVATE.startPosition = startPosition\n        this.PRIVATE.maxSize = previousPane.dimensions[dimension] + nextPane.dimensions[dimension]\n\n        this.PRIVATE.offset = {\n          previous: this.PRIVATE.startPosition - dimensions[axis],\n          next: dimensions[offsetReference] - startPosition\n        }\n\n        document.addEventListener('mousemove', this.PRIVATE.globalMousemoveHandler)\n        document.addEventListener('mouseup', this.PRIVATE.globalMouseupHandler)\n      }\n    })\n  }\n}\n\ncustomElements.define('author-pane-handle', AuthorPaneHandleElement)\n"],"names":["AuthorPaneHandleElement","UTIL","defineProperties","initialized","private","default","maxSize","startPosition","offset","definePrivateMethods","cleanupMouseEventHandlers","document","removeEventListener","_this","PRIVATE","globalMousemoveHandler","globalMouseupHandler","generatePercentage","value","parentNode","totalSize","evt","mousePosition","axis","clientX","clientY","previousPane","nextPane","previousSize","handleResize","previous","dimensions","left","element","size","registerListeners","disconnected","initialize","readonly","get","hasAttribute","getBoundingClientRect","previousElementSibling","nextElementSibling","mousedown","dimension","offsetReference","next","addEventListener","AuthorBaseElement","HTMLElement","customElements","define"],"mappings":"ymCAAMA,8oBAIGC,KAAKC,iBAAiB,CACzBC,YAAa,CACXC,SAAS,EACTC,SAAS,GAGXC,QAAS,CACPF,SAAS,EACTC,QAAS,MAGXE,cAAe,CACbH,SAAS,EACTC,QAAS,MAGXG,OAAQ,CACNJ,SAAS,EACTC,QAAS,UAIRJ,KAAKQ,qBAAqB,CAC7BC,0BAA2B,WACzBC,SAASC,oBAAoB,YAAaC,EAAKC,QAAQC,wBACvDJ,SAASC,oBAAoB,UAAWC,EAAKC,QAAQE,uBAGvDC,mBAAoB,SAAAC,mBAAaA,EAAQL,EAAKM,WAAWC,UAAa,UAEtEL,uBAAwB,SAAAM,OAClBC,EAAsC,MAAtBT,EAAKC,QAAQS,KAAeF,EAAIG,QAAUH,EAAII,WAE9DH,IAAkBT,EAAKC,QAAQP,eAIfM,EAAKM,WAAnBC,gBAC8EP,EAAKC,QAAnFY,IAAAA,aAAcC,IAAAA,SAAUrB,IAAAA,QAASE,IAAAA,OAAQS,IAAAA,mBAC3CW,KAD+DC,aAC/CP,EAAgBd,EAAOsB,SAAYJ,EAAaK,WAAWC,QAE1EJ,GAAgBA,EAAe,KAClCA,EAAe,GAGGtB,GAAhBsB,IACFA,EAAetB,GAGjBqB,EAASM,QAAQC,KAAOjB,EAAmBX,EAAUsB,GACrDF,EAAaO,QAAQC,KAAOjB,EAAmBW,KAGjDZ,qBAAsB,SAAAK,KACfP,QAAQP,cAAgB,OACxBO,QAAQN,OAAS,OACjBM,QAAQJ,iCAIZT,KAAKkC,uBAAwB,CAChCC,aAAc,kBAAMvB,EAAKC,QAAQJ,6BAEjC2B,WAAY,WACNxB,EAAKC,QAAQX,gBAIZF,KAAKC,iBAAiB,CACzBqB,KAAM,CACJnB,SAAS,EACTkC,UAAU,EACVC,IAAK,kBAAM1B,EAAKM,WAAWqB,aAAa,cAAgB,IAAM,MAGhET,WAAY,CACV3B,SAAS,EACTkC,UAAU,EACVC,IAAK,kBAAM1B,EAAK4B,0BAGlBf,aAAc,CACZtB,SAAS,EACTkC,UAAU,EACVC,IAAK,eACGG,OAAAA,6BAEC,CACLT,QAASS,EACTX,WAAYW,EAAuBD,2BAKzCd,SAAU,CACRvB,SAAS,EACTkC,UAAU,EACVC,IAAK,eACGI,OAAAA,yBAEC,CACLV,QAASU,EACTZ,WAAYY,EAAmBF,+BAMlC3B,QAAQX,aAAc,IAG7ByC,UAAW,SAAAvB,OAELd,EAAesC,EAAWC,IADqBjC,EAAKC,QAAlDS,IAAAA,KAAMQ,IAAAA,WAAYL,IAAAA,aAAcC,IAAAA,gBAG9BJ,OACD,IACHhB,EAAgBc,EAAIG,QACpBqB,EAAY,QACZC,EAAkB,kBAGf,IACHvC,EAAgBc,EAAII,QACpBoB,EAAY,SACZC,EAAkB,WAIjBhC,QAAQP,cAAgBA,IACxBO,QAAQR,QAAUoB,EAAaK,WAAWc,GAAalB,EAASI,WAAWc,KAE3E/B,QAAQN,OAAS,CACpBsB,SAAUjB,EAAKC,QAAQP,cAAgBwB,EAAWR,GAClDwB,KAAMhB,EAAWe,GAAmBvC,GAGtCI,SAASqC,iBAAiB,YAAanC,EAAKC,QAAQC,wBACpDJ,SAASqC,iBAAiB,UAAWnC,EAAKC,QAAQE,uQA9IpBiC,kBAAkBC,mBAoJxDC,eAAeC,OAAO,qBAAsBpD"}