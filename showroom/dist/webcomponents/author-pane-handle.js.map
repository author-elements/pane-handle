{"version":3,"file":"author-pane-handle.js","sources":["../src/element.js"],"sourcesContent":["class AuthorPaneHandleElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      initialized: {\n        private: true,\n        default: false\n      },\n\n      maxSize: {\n        private: true,\n        default: null\n      },\n\n      startPosition: {\n        private: true,\n        default: null\n      },\n\n      offset: {\n        private: true,\n        default: null\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      cleanupMouseEventHandlers: () => {\n        document.removeEventListener('mousemove', this.PRIVATE.globalMousemoveHandler)\n        document.removeEventListener('mouseup', this.PRIVATE.globalMouseupHandler)\n      },\n\n      generatePercentage: value => `${(value / this.parentNode.totalSize) * 100}%`,\n\n      globalMousemoveHandler: evt => {\n        let mousePosition = this.PRIVATE.axis === 'x' ? evt.clientX : evt.clientY\n\n        if (mousePosition === this.PRIVATE.startPosition) {\n          return\n        }\n\n        let { totalSize } = this.parentNode\n        let { previousPane, nextPane, maxSize, offset, generatePercentage, handleResize } = this.PRIVATE\n        let previousSize = (mousePosition - offset.previous) - previousPane.dimensions.left\n\n        if (!previousSize || previousSize < 0) {\n          previousSize = 0\n        }\n\n        if (previousSize >= maxSize) {\n          previousSize = maxSize\n        }\n\n        nextPane.element.size = generatePercentage(maxSize - previousSize)\n        previousPane.element.size = generatePercentage(previousSize)\n      },\n\n      globalMouseupHandler: evt => {\n        this.PRIVATE.startPosition = null\n        this.PRIVATE.offset = null\n        this.PRIVATE.cleanupMouseEventHandlers()\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      disconnected: () => this.PRIVATE.cleanupMouseEventHandlers(),\n\n      initialize: () => {\n        if (this.PRIVATE.initialized) {\n          return\n        }\n\n        this.UTIL.defineProperties({\n          axis: {\n            private: true,\n            readonly: true,\n            get: () => this.parentNode.hasAttribute('horizontal') ? 'x' : 'y'\n          },\n\n          dimensions: {\n            private: true,\n            readonly: true,\n            get: () => this.getBoundingClientRect()\n          },\n\n          previousPane: {\n            private: true,\n            readonly: true,\n            get: () => {\n              let { previousElementSibling } = this\n\n              return {\n                element: previousElementSibling,\n                dimensions: previousElementSibling.getBoundingClientRect()\n              }\n            }\n          },\n\n          nextPane: {\n            private: true,\n            readonly: true,\n            get: () => {\n              let { nextElementSibling } = this\n\n              return {\n                element: nextElementSibling,\n                dimensions: nextElementSibling.getBoundingClientRect()\n              }\n            }\n          }\n        })\n\n        this.PRIVATE.initialized = true\n      },\n\n      mousedown: evt => {\n        let { axis, dimensions, previousPane, nextPane } = this.PRIVATE\n        let startPosition, dimension, offsetReference\n\n        switch (axis) {\n          case 'x':\n            startPosition = evt.clientX\n            dimension = 'width'\n            offsetReference = 'right'\n            break\n\n          case 'y':\n            startPosition = evt.clientY\n            dimension = 'height'\n            offsetReference = 'bottom'\n            break\n        }\n\n        this.PRIVATE.startPosition = startPosition\n        this.PRIVATE.maxSize = previousPane.dimensions[dimension] + nextPane.dimensions[dimension]\n\n        this.PRIVATE.offset = {\n          previous: this.PRIVATE.startPosition - dimensions[axis],\n          next: dimensions[offsetReference] - startPosition\n        }\n\n        document.addEventListener('mousemove', this.PRIVATE.globalMousemoveHandler)\n        document.addEventListener('mouseup', this.PRIVATE.globalMouseupHandler)\n      }\n    })\n  }\n}\n\ncustomElements.define('author-pane-handle', AuthorPaneHandleElement)\n"],"names":[],"mappings":"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"}