{"version":3,"file":"author-pane-handle.min.js","sources":["../src/element.js"],"sourcesContent":["class AuthorPaneHandleElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      initialized: {\n        private: true,\n        default: false\n      },\n\n      maxSize: {\n        private: true,\n        default: null\n      },\n\n      startPosition: {\n        private: true,\n        default: null\n      },\n\n      offset: {\n        private: true,\n        default: null\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      cleanupMouseEventHandlers: () => {\n        document.removeEventListener('mousemove', this.PRIVATE.globalMousemoveHandler)\n        document.removeEventListener('mouseup', this.PRIVATE.globalMouseupHandler)\n      },\n\n      generatePercentage: value => `${(value / this.parentNode.totalSize) * 100}%`,\n\n      globalMousemoveHandler: evt => {\n        let mousePosition = this.PRIVATE.axis === 'x' ? evt.clientX : evt.clientY\n\n        if (mousePosition === this.PRIVATE.startPosition) {\n          return\n        }\n\n        let { totalSize } = this.parentNode\n        let { previousPane, nextPane, maxSize, offset, generatePercentage, handleResize } = this.PRIVATE\n        let previousSize = (mousePosition - offset.previous) - previousPane.dimensions.left\n\n        if (!previousSize || previousSize < 0) {\n          previousSize = 0\n        }\n\n        if (previousSize >= maxSize) {\n          previousSize = maxSize\n        }\n\n        nextPane.element.size = generatePercentage(maxSize - previousSize)\n        previousPane.element.size = generatePercentage(previousSize)\n      },\n\n      globalMouseupHandler: evt => {\n        this.PRIVATE.startPosition = null\n        this.PRIVATE.offset = null\n        this.PRIVATE.cleanupMouseEventHandlers()\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      disconnected: () => this.PRIVATE.cleanupMouseEventHandlers(),\n\n      initialize: () => {\n        if (this.PRIVATE.initialized) {\n          return\n        }\n\n        this.UTIL.defineProperties({\n          axis: {\n            private: true,\n            readonly: true,\n            get: () => this.parentNode.hasAttribute('horizontal') ? 'x' : 'y'\n          },\n\n          dimensions: {\n            private: true,\n            readonly: true,\n            get: () => this.getBoundingClientRect()\n          },\n\n          previousPane: {\n            private: true,\n            readonly: true,\n            get: () => {\n              let { previousElementSibling } = this\n\n              return {\n                element: previousElementSibling,\n                dimensions: previousElementSibling.getBoundingClientRect()\n              }\n            }\n          },\n\n          nextPane: {\n            private: true,\n            readonly: true,\n            get: () => {\n              let { nextElementSibling } = this\n\n              return {\n                element: nextElementSibling,\n                dimensions: nextElementSibling.getBoundingClientRect()\n              }\n            }\n          }\n        })\n\n        this.PRIVATE.initialized = true\n      },\n\n      mousedown: evt => {\n        let { axis, dimensions, previousPane, nextPane } = this.PRIVATE\n        let startPosition, dimension, offsetReference\n\n        switch (axis) {\n          case 'x':\n            startPosition = evt.clientX\n            dimension = 'width'\n            offsetReference = 'right'\n            break\n\n          case 'y':\n            startPosition = evt.clientY\n            dimension = 'height'\n            offsetReference = 'bottom'\n            break\n        }\n\n        this.PRIVATE.startPosition = startPosition\n        this.PRIVATE.maxSize = previousPane.dimensions[dimension] + nextPane.dimensions[dimension]\n\n        this.PRIVATE.offset = {\n          previous: this.PRIVATE.startPosition - dimensions[axis],\n          next: dimensions[offsetReference] - startPosition\n        }\n\n        document.addEventListener('mousemove', this.PRIVATE.globalMousemoveHandler)\n        document.addEventListener('mouseup', this.PRIVATE.globalMouseupHandler)\n      }\n    })\n  }\n}\n\ncustomElements.define('author-pane-handle', AuthorPaneHandleElement)\n"],"names":["customElements","define","AuthorBaseElement","HTMLElement","[object Object]","super","this","UTIL","defineProperties","initialized","private","default","maxSize","startPosition","offset","definePrivateMethods","cleanupMouseEventHandlers","document","removeEventListener","PRIVATE","globalMousemoveHandler","globalMouseupHandler","generatePercentage","value","parentNode","totalSize","evt","mousePosition","axis","clientX","clientY","previousPane","nextPane","handleResize","previousSize","previous","dimensions","left","element","size","registerListeners","disconnected","initialize","readonly","get","hasAttribute","getBoundingClientRect","previousElementSibling","nextElementSibling","mousedown","dimension","offsetReference","next","addEventListener"],"mappings":"0rBAoJAA,eAAeC,OAAO,qBApJtB,cAAsCC,kBAAkBC,cACtDC,cACEC,MAAM,6aAENC,KAAKC,KAAKC,iBAAiB,CACzBC,YAAa,CACXC,SAAS,EACTC,SAAS,GAGXC,QAAS,CACPF,SAAS,EACTC,QAAS,MAGXE,cAAe,CACbH,SAAS,EACTC,QAAS,MAGXG,OAAQ,CACNJ,SAAS,EACTC,QAAS,QAIbL,KAAKC,KAAKQ,qBAAqB,CAC7BC,0BAA2B,KACzBC,SAASC,oBAAoB,YAAaZ,KAAKa,QAAQC,wBACvDH,SAASC,oBAAoB,UAAWZ,KAAKa,QAAQE,uBAGvDC,mBAAoBC,MAAaA,EAAQjB,KAAKkB,WAAWC,UAAa,OAEtEL,uBAAwBM,IACtB,IAAIC,EAAsC,MAAtBrB,KAAKa,QAAQS,KAAeF,EAAIG,QAAUH,EAAII,QAElE,GAAIH,IAAkBrB,KAAKa,QAAQN,cACjC,OAGF,IAAIY,UAAEA,GAAcnB,KAAKkB,YACrBO,aAAEA,EAAYC,SAAEA,EAAQpB,QAAEA,EAAOE,OAAEA,EAAMQ,mBAAEA,EAAkBW,aAAEA,GAAiB3B,KAAKa,QACrFe,EAAgBP,EAAgBb,EAAOqB,SAAYJ,EAAaK,WAAWC,OAE1EH,GAAgBA,EAAe,KAClCA,EAAe,GAGbA,GAAgBtB,IAClBsB,EAAetB,GAGjBoB,EAASM,QAAQC,KAAOjB,EAAmBV,EAAUsB,GACrDH,EAAaO,QAAQC,KAAOjB,EAAmBY,IAGjDb,qBAAsBK,IACpBpB,KAAKa,QAAQN,cAAgB,KAC7BP,KAAKa,QAAQL,OAAS,KACtBR,KAAKa,QAAQH,+BAIjBV,KAAKC,KAAKiC,kBAAkBlC,KAAM,CAChCmC,aAAc,IAAMnC,KAAKa,QAAQH,4BAEjC0B,WAAY,KACNpC,KAAKa,QAAQV,cAIjBH,KAAKC,KAAKC,iBAAiB,CACzBoB,KAAM,CACJlB,SAAS,EACTiC,UAAU,EACVC,IAAK,IAAMtC,KAAKkB,WAAWqB,aAAa,cAAgB,IAAM,KAGhET,WAAY,CACV1B,SAAS,EACTiC,UAAU,EACVC,IAAK,IAAMtC,KAAKwC,yBAGlBf,aAAc,CACZrB,SAAS,EACTiC,UAAU,EACVC,IAAK,KACH,IAAIG,uBAAEA,GAA2BzC,KAEjC,MAAO,CACLgC,QAASS,EACTX,WAAYW,EAAuBD,2BAKzCd,SAAU,CACRtB,SAAS,EACTiC,UAAU,EACVC,IAAK,KACH,IAAII,mBAAEA,GAAuB1C,KAE7B,MAAO,CACLgC,QAASU,EACTZ,WAAYY,EAAmBF,6BAMvCxC,KAAKa,QAAQV,aAAc,IAG7BwC,UAAWvB,IACT,IACIb,EAAeqC,EAAWC,GAD1BvB,KAAEA,EAAIQ,WAAEA,EAAUL,aAAEA,EAAYC,SAAEA,GAAa1B,KAAKa,QAGxD,OAAQS,GACN,IAAK,IACHf,EAAgBa,EAAIG,QACpBqB,EAAY,QACZC,EAAkB,QAClB,MAEF,IAAK,IACHtC,EAAgBa,EAAII,QACpBoB,EAAY,SACZC,EAAkB,SAItB7C,KAAKa,QAAQN,cAAgBA,EAC7BP,KAAKa,QAAQP,QAAUmB,EAAaK,WAAWc,GAAalB,EAASI,WAAWc,GAEhF5C,KAAKa,QAAQL,OAAS,CACpBqB,SAAU7B,KAAKa,QAAQN,cAAgBuB,EAAWR,GAClDwB,KAAMhB,EAAWe,GAAmBtC,GAGtCI,SAASoC,iBAAiB,YAAa/C,KAAKa,QAAQC,wBACpDH,SAASoC,iBAAiB,UAAW/C,KAAKa,QAAQE"}